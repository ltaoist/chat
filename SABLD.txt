简易回答库语言定义
================
Simple Answer Base Language Definition
======================================

1.概述
------

简易回答库语言，以下简称SABL，或"语言"，是一种简单的用于知识表示的人工语言。支持SABL语言的服务程序，可以加载SABL文件，并且模拟正在交谈地做出对用户的回应。

一个后缀名为sabl文件，即一个简易回答库语言的知识库。这个文档定义了sabl文件的格式，说明了支持sabl语言的服务程序在运行中是如何使用这个知识库的。

一个sabl文件还应该有一个配套的sabh文件，这个文件标注了使用这个知识库的一些起始词。对sabh的定义也属于文档的一部分。

本文档提出的是一种知识表示的方法，并不是提出一种人机交互的原理。

使用sabl编写的知识库文件，其知识产权和相关权利为该知识库文件的开发者所有。

使用sabl编写的服务程序，其知识产权和相关权利为该服务程序的开发者所有。

2.段
------

一个sabl文件应该由许多的段组成，一个段是sabl表示知识的一个最小单元。

每个段的第一行一定是一个单行的左花括号，每一个段的最后一行一定是一个单行的右花括号，除此之外一段内不会有其他的单行的花括号。

例如下面的分段是合法的：

```
{
a
}
```

下面的分段是不合法的，即不是一个合法的分段：

```
x
这个分段没有开头的左花括号
a
}
```

```
{
x
这个分段出现了两个右花括号
}
}
```

一段内可以包括多行的内容。例如下面的内容：

```
{

机械工程以有关的自然科学和技术科学为理论基础，结合生产实践中的技术经验，研究和解决在开发、设计、制造、安装、运用和修理各种机械中遇到的实际问题，例如：家用电器的维修、汽车的改装、智能机器人的研发设计、挖掘机的使用等。

机械工程是一个宽口径的机械类专业。本专业培养具有宽厚的机械工程基本理 论和基础知识，能在机械工程领域从事工程设计、机械制造、技术开发、科学研究、生产组织管理 等方面工作的复合型高级工程技术人才。

}
```

一个段内可能包括有花括号的内容，但是他们不会是单行出现的。例如下面的内容虽然在段内包括花括号，但是并不是单行的花括号，所以他们是合法的。

```
{
第一行
左花括号: {
第三行
右花括号: }
第五行
这是一个合法的分段
}
```

在片段与片段之间的内容为注释，服务程序可以直接忽略。

3.段内元素
---------

除了普通的文本，sabl支持两种额外段内元素。分别是不可见文本，以及提示性文本。

特别的，不可见文本应该被包括在一个有 [hide] 和 [/hide] 包括的标签内。这部分的文本会参与服务程序的运行，但服务程序不会将这部分的内容显示给用户。

特别的，提示性文本应该被包括在 [[ 和 ]] 中。一段文本被包括在 [[ 和 ]] 中，即意味着用户可能需要相关的信息，而且知识库中已经包括了这相关的信息。

例如，下面共有3个短，使用了合法的段内元素：

```
{

[hide]机械类专业有哪些方面的工作[/hide]

[[机械工程]]是一个宽口径的[[机械类专业]]。本专业培养具有宽厚的机械工程基本理论和基础知识，能在机械工程领域从事[[工程设计]]、机械制造、技术开发、科学研究、生产组织管理等方面工作的复合型高级[[工程技术人才]]。
}

{

[hide]工科[/hide]

[hide]什么是机械类专业[/hide]

[[机械类专业]]是工科中的一个宽泛的学科，是理科生选报的热门专业之一，堪称最强工科，也是以后的热门专业。机械类专业需要很好的理科知识、绘图能力、电子技术，“机电不分家”，大学学科往往都是机械与电子融合教学。
}

{
[hide]安全[hide]

[[工程设计]]是人们运用科技知识和方法，有目标地创造工程产品构思和计划的过程，几乎涉及到人类活动的全部领域。
}
```

4.提示词
--------

提示词文件应该与sabl文件有相同的文件名，但后缀名为sabh。

例如一个名为"机械工程.sabl"文件的配对的提示词文件为"机械工程.sabh"。

提示词文件使用空格隔开，并且可以多行，用以提示用户进行访问的可能的初始用语。

例如下面的内容：

```
机械工程 专业 安全 什么是机械类专业
```

5.服务程序
---------

一个服务程序至少应该具有以下的功能或行为：

(a) 有着一个明显的界面，这个界面可以看到模拟的答复和模拟的用户的发言。
(b) 有着一个明显的界面，这个界面可以有用户输入，并且有着明显的交互组件，可以模拟将用户输入的内容发出。
(c) 有着一个明显的界面，这个界面可以看到第4节说的提示词。用户可以直接将这些提示词作为发言发出。
(d) 如果答复的发言中包括第3节所说的不可见文本，他们不应该被用户看见。如果包括第3节所说的提示性文本，用户可以直接将这些提示性文本作为发言发出。
(e) 服务程序应当有一个过程，这个过程会因为用户的发言，在知识库中选择一个分段，将其呈现为合适的形式，模拟为答复。否则，做出其他的答复。
